<template>
  <el-form-renderer ref="form" :content="content">
    <el-button @click="validateForm">éªŒè¯è¡¨å•</el-button>
    <el-button @click="validateAge">ä»…éªŒè¯å¹´é¾„</el-button>
    <el-button @click="clearValidate">æ¸…é™¤éªŒè¯</el-button>
  </el-form-renderer>
</template>

<script>
import InputAge from './InputAge.vue'
export default {
  data() {
    return {
      content: [
        {
          id: 'name',
          label: 'å§“å',
          type: 'input',
          rules: [
            {
              required: true,
              trigger: 'blur',
              message: 'è¯·è¾“å…¥ä½ çš„å¤§å!'
            }
          ]
        },
        {
          id: 'age',
          label: 'å¹´é¾„ğŸ˜',
          component: InputAge,
          overrideRules: true,
          rules: [
            {
              required: true,
              trigger: 'blur',
              message: 'ç»„ä»¶å†…ç½®çš„æ ¡éªŒè§„åˆ™å·²ç»ä¸ç”Ÿæ•ˆäº†'
            }
          ]
        }
      ]
    }
  },
  methods: {
    validateForm() {
      this.$refs.form.validate()
    },
    validateAge() {
      this.$refs.form.validateField('age')
    },
    clearValidate() {
      this.$refs.form.clearValidate()
    }
  }
}
</script>